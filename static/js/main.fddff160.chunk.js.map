{"version":3,"sources":["web/game/views/navbar/GameNavbar.tsx","web/game/views/loading/GameLoading.tsx","blockchain/Web3Utils.tsx","blockchain/Lina.tsx","utils/NumberUtils.tsx","blockchain/definition/data/Territory.tsx","blockchain/definition/BlackHoleContract.tsx","blockchain/definition/data/NokaiPos.tsx","api/BlackHole.tsx","web/game/data/Point.tsx","web/game/data/BoardPos.tsx","resources/images.js","resources/game/resource/dark_matter.png","resources/game/resource/void.png","resources/game/resource/plasma.png","resources/game/resource/uxonium.png","utils/MathUtils.tsx","web/game/store/DragNokai.tsx","web/game/data/NokaiData.tsx","utils/Storage.tsx","web/game/store/NokaiStore.tsx","web/game/views/board/BoardCase.tsx","blockchain/definition/NokaiContract.tsx","web/game/views/board/GameBoard.tsx","blockchain/ContractLoader.tsx","api/Nokai.tsx","utils/HttpUtils.tsx","utils/NftStorage.tsx","blockchain/definition/NokaiStatsContract.tsx","blockchain/definition/data/NokaiProfile.tsx","api/NokaiStats.tsx","web/game/views/inventory/NokaiInventory.tsx","web/game/views/error/GameWrongNetwork.tsx","web/game/views/error/GameUnexpectedError.tsx","web/game/views/error/GameWalletNotConnected.tsx","api/GameManager.tsx","web/game/events/NokaiEventSubscriber.tsx","web/game/events/MetamaskEventSubscriber.tsx","web/game/views/GameView.tsx","web/home/views/loading/HomeLoading.tsx","web/home/views/navbar/HomeNavbar.tsx","web/home/views/tutorial/TutorialView.tsx","web/home/views/HomeView.tsx","web/market/views/MarketView.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["GameNavbar","props","state","networkId","account","loading","a","this","setState","className","href","target","rel","icon","style","color","Component","GameLoading","Web3Utils","window","ethereum","request","method","accounts","web3","Web3","defaultAccount","on","alert","detectEthereumProvider","provider","console","log","result","length","eth","net","getId","toLowerCase","e","value","address","getDefaultAccount","utils","fromAscii","Lina","data","call","from","send","NumberUtils","BigInt","parseInt","toString","parseTerritory","x","y","uxonium","darkMatter","plasmaEnergy","voidEssence","extractor","level","cost","lastExtract","nokaiId","owner","discovered","SlotDiscovered","by","SlotConquered","previousOwner","newOwner","NokaiAssigned","NokaiWithdrawn","NokaiMoved","fromX","fromY","toX","toY","TerritoryExtracted","ExtractorUpgraded","parseNokaiPos","onBoard","BlackHole","contract","methods","maxX","maxY","totalPos","choices","getFor","map","to","getForRange","startPos","endPos","startLine","endLine","getForBox","postX","posY","get","extractorCostAt","user","territoryCount","nokaiPos","nokaiAt","callback","events","parse","returnValues","search","Point","BoardPos","index","posX","GameResourceImg","MathUtils","v1","v2","DragData","position","DragNokai","currentNokai","currentPosition","resetPosition","NokaiData","JSON","stringify","key","Storage","nokais","localStorage","setItem","nokaisKey","getItem","NokaiStore","id","subscribers","nokai","undefined","nokaiIds","forEach","push","ids","Object","keys","newData","hasDiff","subscriber","setNokais","getNokais","BoardCase","onDragFocus","event","onMouseOver","changePos","onDragEnter","relatedTarget","tagName","onClick","corners","point","size","spacing","territory","img","width","height","max","Number","territoryOwned","nullAddress","territoryOwnedByCurrent","resource","getResource","points","calculateCoordinates","join","getClassName","onDragLeave","fill","imageUrl","StatType","Canvas","caseLength","Camera","totalX","totalY","Board","casesX","casesY","total","GameBoard","_handleKeyUp","keyCode","preventDefault","moveCameraY","moveCameraX","_handleKeyDown","canvas","camera","board","positions","boxSelected","boxFocused","boxClicked","bind","boxUnSelect","boxHover","Promise","all","getMaxX","blackhole","getMaxY","then","values","loadDataForCamera","document","addEventListener","removeEventListener","tmp","needQueryData","getTerritoryForBox","territories","lineCount","pos","setX","setY","originX","originY","camX","camY","adjustX","isNotEven2","isNotEven","diffX","diffY","pos1","pos2","border","getCameraView","allowedDistanceForTarget","d","getPath","ContractLoader","getNetwork","BlackHoleData","networks","Contract","abi","Nokai","NokaiStatsData","NokaiStats","GameManagerData","GameManager","NokaiBorn","NokaiUpgraded","baseUri","setUri","lockMint","unlockMint","lockTransfer","unlockTransfer","nbGods","setup","targetId","upgradeChoice","absorb","listFor","tokenURI","HttpUtils","url","success","failure","fetch","response","json","catch","error","NfStorage","config","Rarity","Technique","NokaiDamaged","newHp","NokaiKilled","NokaiReborn","NokaiHealed","amount","NokaiEnergized","NokaiEmptyEnergy","parseProfileDTO","stats","hp","attack","defense","regen","pa","gradeValue","grade","technique1","technique2","currentHp","currentPa","dead","burned","lastHpSet","lastPaSet","parseProfile","profile","profiles","NokaiInventory","nokaisUpdatedAt","Date","now","ownedNokaiIds","nokaisUpdated","onNokaiClick","onNokaiDragEnd","subscribe","loadNokais","unsubscribe","prevProps","prevState","snapshot","required","missing","nokaiStats","batch","update","image","name","getNokaiPos","onClicked","nokaiDragged","onDragged","reset","list","alt","src","draggable","onDragStart","onNokaiDragStart","onDragEnd","GameWrongNetwork","Button","variant","backToLobby","GameUnexpectedError","GameWalletNotConnected","Modal","show","backdrop","keyboard","centered","animation","Header","closeButton","Title","Body","Footer","loginMetamask","battleLogic","migrateBattleLogic","move","conquer","teleport","assignNokaiToBoard","upgradeExtractor","collectResources","collectResourcesBash","NokaiEventSubscriber","subscribeNokaiAssigned","subscribeNokaiWithdrawn","subscribeNokaiMoved","MetamaskEventSubscriber","onNetworkChange","onAccountUpdate","accountChanged","networkChanged","getEth","removeListener","chainId","GameView","nokaiEventSubscriber","metamaskEventSubscriber","history","gameManager","walletConnected","setupState","loadBlockchainData","loadContracts","setCurrentAccount","setCurrentNetwork","areContractsValid","onInventoryNokaiClicked","onInventoryNokaiDragged","isMetamaskConnected","loadMetamask","isSetup","instantiateBlackHole","instantiateNokai","instantiateNokaiStats","instantiateGameManager","drag","content","withRouter","HomeLoading","HomeNavbar","loadData","loadAccountsData","listenAccountChanges","TutorialView","HomeView","launchGame","current","path","MarketView","library","add","faGithub","faLinkedinIn","App","role","basename","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fddff160.chunk.js","sourcesContent":["import {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {Component} from \"react\";\n\ntype GameNavbarProperties = {\n    networkId: bigint,\n    account: string,\n}\n\ntype GameNavbarState = {\n    networkId: bigint,\n    account: string,\n    loading: boolean\n}\n\nexport default class GameNavbar extends Component<GameNavbarProperties, GameNavbarState> {\n    constructor(props: GameNavbarProperties) {\n        super(props)\n        this.state = {\n            networkId: props.networkId,\n            account: props.account,\n            loading: true\n        }\n    }\n\n    async componentDidMount() {\n        this.setState({loading: false})\n    }\n\n    render() {\n        return <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n            <a\n                className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n                href=\"https://github.com/Draym/blackhole\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n            >\n                <span><FontAwesomeIcon icon={['fab', \"github\"]}/> BlackHole Game</span>\n            </a>\n            <span style={{color: 'white'}}>network: {this.state.networkId}</span>\n            <span className=\"me-3\" style={{color: 'white'}}>account: {this.state.account}</span>\n        </nav>\n    }\n}","import {Component} from \"react\";\n\ntype GameLoadingProperties = {}\n\ntype GameLoadingState = {}\n\nexport default class GameLoading extends Component<GameLoadingProperties, GameLoadingState> {\n\n    render() {\n        return <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n    }\n}","import Web3 from 'web3'\nimport detectEthereumProvider from '@metamask/detect-provider';\nimport {Address} from \"./definition/types\";\n\ndeclare let window: any;\n\nexport default class Web3Utils {\n\n    static async loadMetamask() {\n        if (window.ethereum) {\n            const accounts = await window.ethereum.request({method: 'eth_requestAccounts'})\n            window.web3 = new Web3(window.ethereum)\n            window.ethereum.defaultAccount = accounts[0]\n            window.ethereum.on('accountsChanged', (accounts: string[]) => {\n                window.ethereum.defaultAccount = accounts[0]\n            })\n            return true\n        }\n            // else if (window.web3) {\n            //     window.web3 = new Web3(window.web3.currentProvider)\n            //     return true\n        // }\n        else {\n            window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n            return false\n        }\n    }\n\n    static async isMetamaskInstalled() {\n        const provider = await detectEthereumProvider();\n        return !!provider;\n    }\n\n    static async isMetamaskConnected() {\n        const provider = await detectEthereumProvider()\n\n        if (provider) {\n            console.log('Metamask successfully detected!');\n            const result = await window.ethereum.request({method: 'eth_accounts'})\n            return result.length > 0\n        } else {\n            console.log('Metamask is not installed!');\n            return false\n        }\n    }\n\n    // @ts-ignore\n    static getEth(): EthereumProvider | null {\n        return window.ethereum\n    }\n\n    static async getNetwork(): Promise<bigint> {\n        console.log(\"get network\")\n        return window.web3.eth.net.getId()\n    }\n\n    static async getAccounts(): Promise<Address[]> {\n        return await window.ethereum.request({method: 'eth_accounts'})\n    }\n\n    static getDefaultAccount(): Address | null {\n        try {\n            return window.ethereum.defaultAccount.toLowerCase()\n        } catch (e) {\n            return null\n        }\n    }\n\n    static address(value: Address): Address {\n        return value.toLowerCase()\n    }\n\n    static isDefaultAccount(address: Address): boolean {\n        return this.getDefaultAccount() === address.toLowerCase()\n    }\n\n    static encode(value: string): string {\n        return window.web3.utils.fromAscii(value)\n    }\n\n    static nullAddress() {\n        return '0x0000000000000000000000000000000000000000';\n    }\n\n    static nullBytes() {\n        return '0x0000000000000000000000000000000000000000000000000000000000000000';\n    }\n}","import Web3Utils from \"./Web3Utils\";\n\nexport default class Lina {\n\n    static async call(method: any, data: object = {}) {\n        return method.call({from: Lina.account(), ...data})\n    }\n\n    static async send(method: any, data: object = {}) {\n        return method.send({from: Lina.account(), ...data})\n    }\n\n    static account() {\n        return Web3Utils.getDefaultAccount()\n    }\n}","export default class NumberUtils {\n    static from(value: any): bigint {\n        return BigInt(parseInt(value.toString()))\n    }\n}","import {Extractor} from \"./Extractor\";\nimport NumberUtils from \"../../../utils/NumberUtils\";\nimport {Address, NokaiId} from \"../types\";\nimport Web3Utils from \"../../Web3Utils\";\n\nexport interface Territory {\n    x: bigint,\n    y: bigint,\n    uxonium: bigint,\n    darkMatter: bigint,\n    plasmaEnergy: bigint,\n    voidEssence: bigint,\n    extractor: Extractor,\n    nokaiId: NokaiId,\n    owner: Address,\n    discovered: boolean\n}\n\nexport function parseTerritory(data: any): Territory {\n    return {\n        x: NumberUtils.from(data.x),\n        y: NumberUtils.from(data.y),\n        uxonium: NumberUtils.from(data.uxonium),\n        darkMatter: NumberUtils.from(data.darkMatter),\n        plasmaEnergy: NumberUtils.from(data.plasmaEnergy),\n        voidEssence: NumberUtils.from(data.voidEssence),\n        extractor: {\n            level: NumberUtils.from(data.extractor.level),\n            cost: NumberUtils.from(data.extractor.cost),\n            lastExtract: NumberUtils.from(data.extractor.lastExtract),\n        },\n        nokaiId: NumberUtils.from(data.nokaiId),\n        owner: Web3Utils.address(data.owner),\n        discovered: data.discovered\n    }\n}","import {Territory} from \"./data/Territory\";\nimport {NokaiPos} from \"./data/NokaiPos\";\nimport {Address, NokaiId} from \"./types\";\nimport {Contract} from \"web3-eth-contract\";\nimport NumberUtils from \"../../utils/NumberUtils\";\nimport Web3Utils from \"../Web3Utils\";\n\nexport interface SlotDiscovered {\n    x: bigint,\n    y: bigint,\n    by: Address\n}\n\nexport class SlotDiscovered {\n    static parse(data: any): SlotDiscovered {\n        return {\n            x: NumberUtils.from(data.x),\n            y: NumberUtils.from(data.y),\n            by: Web3Utils.address(data.by)\n        }\n    }\n}\n\nexport interface SlotConquered {\n    x: bigint,\n    y: bigint,\n    previousOwner: Address,\n    newOwner: Address\n}\n\nexport class SlotConquered {\n    static parse(data: any): SlotConquered {\n        return {\n            x: NumberUtils.from(data.x),\n            y: NumberUtils.from(data.y),\n            previousOwner: Web3Utils.address(data.previousOwner),\n            newOwner: Web3Utils.address(data.newOwner)\n        }\n    }\n}\n\nexport interface SlotConqueredSearch {\n    previousOwner: Address | null,\n    newOwner: Address | null\n}\n\nexport interface NokaiAssigned {\n    x: bigint,\n    y: bigint,\n    nokaiId: NokaiId,\n    owner: Address\n}\n\nexport class NokaiAssigned {\n    static parse(data: any): NokaiAssigned {\n        return {\n            x: NumberUtils.from(data.x),\n            y: NumberUtils.from(data.y),\n            nokaiId: NumberUtils.from(data.nokaiId),\n            owner: Web3Utils.address(data.owner)\n        }\n    }\n}\n\nexport interface NokaiAssignedSearch {\n    nokai: NokaiId | null,\n    owner: Address | null\n}\n\nexport interface NokaiWithdrawn {\n    nokaiId: NokaiId\n}\n\nexport class NokaiWithdrawn {\n    static parse(data: any): NokaiWithdrawn {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId),\n        }\n    }\n}\n\nexport interface NokaiWithdrawnSearch {\n    nokaiId: NokaiId\n}\n\nexport interface NokaiMoved {\n    fromX: bigint,\n    fromY: bigint,\n    toX: bigint,\n    toY: bigint,\n    nokaiId: NokaiId,\n    owner: Address\n}\n\nexport class NokaiMoved {\n    static parse(data: any): NokaiMoved {\n        return {\n            fromX: NumberUtils.from(data.fromX),\n            fromY: NumberUtils.from(data.fromY),\n            toX: NumberUtils.from(data.toX),\n            toY: NumberUtils.from(data.toY),\n            nokaiId: NumberUtils.from(data.nokaiId),\n            owner: Web3Utils.address(data.owner)\n        }\n    }\n}\n\nexport interface NokaiMovedSearch {\n    nokai: NokaiId | null,\n    owner: Address | null\n}\n\nexport interface TerritoryExtracted {\n    x: bigint,\n    y: bigint,\n    by: Address\n}\n\nexport class TerritoryExtracted {\n    static parse(data: any): TerritoryExtracted {\n        return {\n            x: NumberUtils.from(data.x),\n            y: NumberUtils.from(data.y),\n            by: Web3Utils.address(data.by)\n        }\n    }\n}\n\nexport interface ExtractorUpgraded {\n    x: bigint,\n    y: bigint,\n    by: Address\n    level: bigint\n}\n\nexport class ExtractorUpgraded {\n    static parse(data: any): ExtractorUpgraded {\n        return {\n            x: NumberUtils.from(data.x),\n            y: NumberUtils.from(data.y),\n            by: Web3Utils.address(data.by),\n            level: NumberUtils.from(data.level)\n        }\n    }\n}\n\ninterface Methods {\n    maxX: () => bigint,\n    maxY: () => bigint,\n    totalPos: () => bigint,\n    nokaiAt: (x: bigint, y: bigint) => NokaiId,\n    nokaiPos: (nokaiId: NokaiId) => NokaiPos,\n    territoryCount: (user: Address) => bigint,\n    extractorCostAt: (x: bigint, y: bigint) => bigint,\n    get: (x: bigint, y: bigint) => Territory,\n    getFor: (choices: bigint[]) => Territory[],\n    getForRange: (from: bigint, to: bigint) => Territory[],\n    getForBox: (startPos: bigint, endPos: bigint, startLine: bigint, endLine: bigint) => Territory[]\n}\n\ninterface Events {\n    SlotDiscovered: any,\n    SlotConquered: any,\n    NokaiMoved: any,\n    NokaiAssigned: any,\n    NokaiWithdrawn: any,\n    TerritoryExtracted: any,\n    ExtractorUpgraded: any\n}\n\nexport interface BlackHoleContract extends Contract {\n    methods: Methods\n    events: Events\n}","import NumberUtils from \"../../../utils/NumberUtils\";\n\nexport interface NokaiPos {\n    onBoard: boolean,\n    x: bigint,\n    y: bigint\n}\n\nexport function parseNokaiPos(data: any): NokaiPos {\n    return {\n        onBoard: data.onBoard,\n        x: NumberUtils.from(data.x),\n        y: NumberUtils.from(data.y)\n    }\n}","import Lina from \"../blockchain/Lina\";\nimport {parseTerritory, Territory} from \"../blockchain/definition/data/Territory\";\nimport {\n    BlackHoleContract,\n    ExtractorUpgraded, NokaiAssigned, NokaiAssignedSearch,\n    NokaiMoved,\n    NokaiMovedSearch, NokaiWithdrawn, NokaiWithdrawnSearch,\n    SlotConquered,\n    SlotConqueredSearch,\n    SlotDiscovered,\n    TerritoryExtracted\n} from \"../blockchain/definition/BlackHoleContract\";\nimport {Address, NokaiId} from \"../blockchain/definition/types\";\nimport {NokaiPos, parseNokaiPos} from \"../blockchain/definition/data/NokaiPos\";\nimport NumberUtils from \"../utils/NumberUtils\";\n\nexport default class BlackHole {\n\n    static async getMaxX(contract: BlackHoleContract): Promise<bigint> {\n        return NumberUtils.from(await Lina.call(contract.methods.maxX()))\n    }\n\n    static async getMaxY(contract: BlackHoleContract): Promise<bigint> {\n        return NumberUtils.from(await Lina.call(contract.methods.maxY()))\n    }\n\n    static async getTotalPos(contract: BlackHoleContract): Promise<bigint> {\n        return NumberUtils.from(await Lina.call(contract.methods.totalPos()))\n    }\n\n    static async getTerritoryFor(contract: BlackHoleContract, choices: bigint[]): Promise<Territory[]> {\n        const data = await Lina.call(contract.methods.getFor(choices))\n\n        return data.map((result: any) => {\n            return parseTerritory(result)\n        })\n    }\n\n    static async getTerritoryForRange(contract: BlackHoleContract, from: bigint, to: bigint): Promise<Territory[]> {\n        const data = await Lina.call(contract.methods.getForRange(from, to))\n\n        return data.map((result: any) => {\n            return parseTerritory(result)\n        })\n    }\n\n    static async getTerritoryForBox(contract: BlackHoleContract, startPos: bigint, endPos: bigint, startLine: bigint, endLine: bigint): Promise<Territory[]> {\n        const data = await Lina.call(contract.methods.getForBox(startPos, endPos, startLine, endLine))\n\n        return data.map((result: any) => {\n            return parseTerritory(result)\n        })\n    }\n\n\n    static async getTerritory(contract: BlackHoleContract, postX: bigint, posY: bigint): Promise<Territory> {\n        return parseTerritory(await Lina.call(contract.methods.get(postX, posY)))\n    }\n\n    static async getExtractorCostAt(contract: BlackHoleContract, postX: bigint, posY: bigint): Promise<bigint> {\n        return NumberUtils.from(await Lina.call(contract.methods.extractorCostAt(postX, posY)))\n    }\n\n    static async countTerritoryFor(contract: BlackHoleContract, user: Address): Promise<bigint> {\n        return NumberUtils.from(await Lina.call(contract.methods.territoryCount(user)))\n    }\n\n    static async getNokaiPos(contract: BlackHoleContract, nokaiId: NokaiId): Promise<NokaiPos> {\n        return parseNokaiPos(await Lina.call(contract.methods.nokaiPos(nokaiId)))\n    }\n\n    static async getNokaiAt(contract: BlackHoleContract, postX: bigint, posY: bigint): Promise<NokaiId> {\n        return NumberUtils.from(await Lina.call(contract.methods.nokaiAt(postX, posY)))\n    }\n\n    static subscribeSlotDiscovered(contract: BlackHoleContract, callback: (data: SlotDiscovered) => any): any {\n        return contract.events.SlotDiscovered().on('data', (data: any) => {\n            callback(SlotDiscovered.parse(data.returnValues))\n        })\n    }\n\n    static subscribeSlotConquered(contract: BlackHoleContract, search: SlotConqueredSearch | null, callback: (data: SlotConquered) => any): any {\n        return contract.events.SlotConquered(search).on('data', (data: any) => {\n            callback(SlotConquered.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiMoved(contract: BlackHoleContract, search: NokaiMovedSearch | null, callback: (data: NokaiMoved) => any): any {\n        return contract.events.NokaiMoved(search).on('data', (data: any) => {\n            callback(NokaiMoved.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiAssigned(contract: BlackHoleContract, search: NokaiAssignedSearch | null, callback: (data: NokaiAssigned) => any): any {\n        return contract.events.NokaiAssigned(search).on('data', (data: any) => {\n            callback(NokaiAssigned.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiWithdrawn(contract: BlackHoleContract, search: NokaiWithdrawnSearch | null, callback: (data: NokaiWithdrawn) => any): any {\n        return contract.events.NokaiWithdrawn(search).on('data', (data: any) => {\n            callback(NokaiWithdrawn.parse(data.returnValues))\n        })\n    }\n\n    static subscribeTerritoryExtracted(contract: BlackHoleContract, callback: (data: TerritoryExtracted) => any): any {\n        return contract.events.TerritoryExtracted().on('data', (data: any) => {\n            callback(TerritoryExtracted.parse(data.returnValues))\n        })\n    }\n\n    static subscribeExtractorUpgraded(contract: BlackHoleContract, callback: (data: ExtractorUpgraded) => any): any {\n        return contract.events.ExtractorUpgraded().on('data', (data: any) => {\n            callback(ExtractorUpgraded.parse(data.returnValues))\n        })\n    }\n}","export class Point {\n    x: number\n    y: number\n\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n}","export class BoardPos {\n    index: bigint\n    x: bigint\n    y: bigint\n    posX: number\n    posY: number\n\n    constructor(index: bigint, x: bigint, y: bigint, posX: number, posY: number) {\n        this.index = index\n        this.x = x\n        this.y = y\n        this.posX = posX\n        this.posY = posY\n    }\n\n}","import darkMatter from \"./game/resource/dark_matter.png\"\nimport voidEssence from \"./game/resource/void.png\"\nimport plasmaEnergy from \"./game/resource/plasma.png\"\nimport uxonium from \"./game/resource/uxonium.png\"\n\nexport const BackgroundImg = {\n\n}\n\nexport const GameGuiImg = {\n\n}\n\nexport const GameResourceImg = {\n    DARK_MATTER: darkMatter,\n    VOID_ESSENCE: voidEssence,\n    PLASMA_ENERGY: plasmaEnergy,\n    UXONIUM: uxonium\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAAEv0lEQVR42u2dS27bMBCGhwKBBl3pLDlCj9AUASxXWyNHCrxVIgFBe4UcIWfRKnW6MLuwqTIMKQ7Ft+IBisS1IKm/vnmRFEsgkrHdkem+I/uKQKFWpRavdCMpxBueHgEAYHO7LZ7CKpV48u8XAhECDk+P0IztdM2+7phIYokUVjHpE8UTP5dMIk19A83YEk6iyVTHyQ9lNS6sItDFRfu6Y7JYXNCUIiYl0La82cCWiQ/Cht6i68CQ9WBqEWlK6t7uDsvOAR+zO9sdWYosTl3ISV125JC9qYvb8e9MQupIu7r+ujShTL9/f745XQMOE5kxHyx1feJiOxbSRNFunn8AADu7c8YE6ujjZUNfd0wUVT6ek7eUtOnB1R1sxvb/X1y3yuMOL6/KGBmSSKcsHKP+6usOch7Kobbuq2rHOHlyrHMlT7gG6jh+PU6inLVDkFhh3TdWrDPFv2JGYzCtmEyeL+Km8zMGhBAYzm6MJVEXG7/cX3mPiVZZOHaxSsjpUpuxhb7uoK87IOfPOjqXihyFQF1955s8G3duJDHnBAxBIoXCzETYh5InFYFzFKYgz4ZQk8g+SZytA0ueboxl1UWCwAJeKPSYRGxiH6/h+M+cTO5YXDqVYC5sKx5jbH0EunQatgSmoNQHiUEJTCVMtjEwZ0s14JBMQN8dQzO2SRIXTUUKCxQ2fIgnTpPqBo35MTQudQ/AgAUbMfFJoDhtMScm8Z19TeTFHm6yMV2PLC8hET+vJolECj8faIwmYHMeFC3VdLFwUR041A8XHFUC9nXHMAt12IIcihmnK8V9lWWMGBj5MjJfWVeVPEpIKrqMLLoz5V9gJskxMUw8RiRVJRiPi6WQqVpKRxecZHGdN5xn1rDnW20vPGiWW5iK5E3hYikFtF3d2TtOcq+lDpyysKplMbnvZxKPVya6Be1UFxxLsFijLnMJtprLMLlbaPEw1Qm1OXioH2Az/vw07osp7ZRZmI9C8DmCw8srECDw+9uvVQrlslIB3QuvRTzfs38E0+9hi94c54BDE0jnfJ4PrP69ezsVztdt0qBebCfCgMHFHGNgDCtxnHGWQFU2BgizLvDUIsYlXY59YujCxkGaC3khZ+tQ9yC8MLS53aJFRAkYmsQQ4rHdEci+siJPFBMrYpIYqKrFhgATTmx3hOPuGLadtLwh6/limwHUufdBlkyaM0E8kUZV3aeqgTG7iQQnsBnb6Q8xkMYHXFVTB0tWHIiimUhsxpYseRvLKom4xkKbgVg5hi1dtkH21elcIpH3oCRLXImAFTN6DFQRyOs//pPf/DsXdFhvSPaVNqGowpTNllROvZdLTGzGVjm30oztJBz2H7203sN6XFZ1YCPEOZVLs8BZ05dwXgTUxURuOiIHhHjMA3HcVKMsvrZgSbLAEpNMqn2VDWXBBZRJ5Pb28gcA3g/GhmzXdLEu5MtCQQnkwm3HdrUDYiSgq057A2L3jZETiKmXlS3EG+lJ68CU+ywUTaA8RWp671gmSPe97rgYsS46gSWudMguBpo2TFxai4m7AKd+HTdYFtYtFUm9ZWdRZYxJLN0+NDricrSsZuVKfDs+uxvGUJjTDuhZPnGb5JJawKJ37cjB5bONOaX89xn/AA0ENbDKeRAfAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAAC6ElEQVR42u2bsUscQRTGTxPhulwlGtFCCCZwKIY0lkkgoCHg3yAWYpV/JGAlFpJGO8sQA4EkpY0kGAQVwSIhRqxMJ0i4dLOfsB++dzNr9na/rxp2Z+f2lvfb772Z2UZDkiSpvupLMcjbpctO3vGFtWby8VONmUr9iiE9wP+qu6kH9CLmxfP1qx+h/+TIoOt3i3gVKAL1ACvgwhasGD7MwVHff52H9tHv/dD+sDvXpwgUwnLhaMdceTfmQmn2yXbX2HoTeMsrIsaRFYFCuGK1MMMHkUSha1twZmLjMDxTJdWKQCHco7WwNwGOEcMTx2eubblPRaAQrmEiHZO4xoi9FhDbieF2bp+NT5uh/eV4UdNZQrjOLpxqRjcmwWY1Ml7LxlciLYRrWAsX4bDeOndr93NuH+a8qLXt+dC+/Ps1/PenD9Y73bqzIlAI95ALI26W+tTSx+KwkyPPXNgyd340MBParfHlXGxxttyyaKUIFMI9mkgXje3Z/vvsWoPDWjTUfpm58J/TRh62ikAhXGGELc7oRRu1d5hhdXC1kznm4cfQnnr4wuW86NSsjyJQCNfQhZmrWo4znC9+frv5OCAcg2Tz3n1FoBCugJLvqmL1qSXBxukmppnx5a4xxOTZgjb2Z9NcikAhXEIXZjO0GNKpXGwPkmSL0JGHDPfAsGWoep1aESiES4iwd2EFndeyJmtJnr2yOKxFOAttyToUgUK45LUwOjJD5ujamfat3bwXW+a8eFyLSkK4YgizZBIRuIaSYQEI3bk1Op2dONm58Vrs73XwlvN/KQKFcAUQ9joa26vMkmocB7de4KJSEYk3w1a7s4RwxRC2TPWkmtpijoxoFy3vZktFoBAuOcIYxhjerJbkNbLP2VMlz8zBW857UAQK4Qok0gxnLwKWvc0xzsuQx+R89fmb0NaXSkK4d5Xkg0GGc4zzehN75raILX6dpAgUwkK4azXvPO6krnOLRlURqAcoSZIklU3/AGSmfWIcc2suAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAADTElEQVR42u2cv2sUQRTHd+VQwYCgIlikuUKuUwNa3f0LKa4Q1EIFrxAVLUTEQoiFWqQJpkvAHyBKikPsxSIB4YRgGjkELbQQJFpFUIlcqsx8E+bdvdnd7M3ufb/VMszO7S7vM9/3ZiaJo0D0r7fc27zeHU/EUUG0K6L4AYepXFDp/nls8KztvRiXCXlGID/gCCBcZtdmBPIDBoZwGjQ0biuNnxWSeaPNCOQHpAtniiQRJsJEOLead2ntuulfH5spjPMyAvkBC46wBlWpj4St1C6Ng9iifBFOiz8jkAgPV5Wdwra655hznC+/Fp0ujO2I1ctvl5ztp1+cNO0LZ957IYnPiX2SrJwzAolwwRNpKeyxvfPjkel/6vC1aCDmf1fM9er6Byf+OM7Mxxv2+sTbyIX5q7P/46RTEyOQCBcIYZWTAmKSEL1DlePOPtL4mt+Sxsfpor1k7/3Zta+6eG89ZgQS4RIl0hK2mtrw2dcJe++BRibYSv01Uwc+Q7Nu29vRinOakn5LWxczAolwAC6cZmkI69mssNWo8/upTar3nXe2o/DZWvdbTkeWpjKcOrYn24xAIhyAC2OIYuhKS0PovHlii8+J2EqSEuy5O3MW56g1cMUb32V77cwIJMIBICwtQ6Ekpx6WpCUvCVtp+etgrTdw/H7TESOQCAeQSPtKs+SVJ6pisg0IS/JdIWciTYRLgPDl5f0G4XNHLzix2ulEWkIVkfRN7PuhyggkwgEn0lkJXVLCR3LVLSjB/q/GMavj84mngttte3RE2jtmBBLhErhwCLWwZlPJ13npwkS4xAjnWfOmQRWdFPWwOZ8Ycy3OjEAiHBjCmmMejbsV0+fBrSvZIwyJ9LvVz+b6e3ct8ZhHamPOcfDU1pupjvPefvvjjEAiHFgtLLmSdJZ4ujZr2pt1qE/hlBRK2vTB/ogtLpdNd2czeWnxsOVU1PPNBBiBRDgwhKX9UOl4A550qk42Bv6gZqMHsX3+6Ym5vjl51eL82g/nrQ4eMwKJ8KjVwr41KeKGibHkzhppsNUkzOi8af/umBFIhANGOA3a6M5YLyOGmHhrhAm2xm19seWKNBEeEYSzQls63JimtsXzzxql/ae4jEAiTFEURVEF1QbOfdEw4//9fQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default class MathUtils {\n    static isEven(value: bigint): boolean {\n        return value % BigInt(2) === BigInt(0)\n    }\n    static isEven2(value: number): boolean {\n        return value % 2 === 0\n    }\n\n    static isNotEven(value: bigint): boolean {\n        return value % BigInt(2) !== BigInt(0)\n    }\n    static isNotEven2(value: number): boolean {\n        return value % 2 !== 0\n    }\n\n    static min(v1: number, v2: number): number {\n        return v1 >= v2 ? v2 : v1\n    }\n\n    static max(v1: number, v2: number): number {\n        return v1 >= v2 ? v1 : v2\n    }\n}","import {BoardPos} from \"../data/BoardPos\";\nimport {NokaiId} from \"../../../blockchain/definition/types\";\n\nexport class DragData {\n    nokaiId: NokaiId\n    position: BoardPos\n\n    constructor(nokaiId: NokaiId, position: BoardPos) {\n        this.nokaiId = nokaiId\n        this.position = position\n    }\n}\n\nexport class DragNokai {\n\n    private static currentNokai: NokaiId | null = null\n    private static currentPosition: BoardPos | null = null\n\n    static nokaiDragged(nokaiId: NokaiId) {\n        this.currentNokai = nokaiId\n    }\n\n    static changePos(position: BoardPos) {\n        this.currentPosition = position\n    }\n\n    static resetPosition() {\n        this.currentPosition = null\n    }\n\n    static reset() {\n        this.resetPosition()\n        this.currentNokai = null\n    }\n\n    static get(): DragData | null {\n        if (this.currentNokai != null && this.currentPosition != null) {\n            return new DragData(this.currentNokai, this.currentPosition)\n        } else return null\n    }\n}","import {NokaiId} from \"../../../blockchain/definition/types\";\nimport {Profile} from \"../../../blockchain/definition/data/NokaiProfile\";\nimport {NokaiPos} from \"../../../blockchain/definition/data/NokaiPos\";\n\nexport interface NokaiData {\n    nokaiId: NokaiId\n    nokaiPos: NokaiPos\n    imageUrl: string\n    name: string\n    profile: Profile\n}\n\nexport class NokaiData {\n    static stringify(data: NokaiData | NokaiData[] | { [key: string]: NokaiData }): string {\n        return JSON.stringify(data, (key, value) => typeof value === 'bigint' ? value.toString() : value)\n    }\n}","import {NokaiData} from \"../web/game/data/NokaiData\";\n\nexport default class Storage {\n    private static nokaisKey = \"blackhole-game$nokais\"\n\n    static setNokais(nokais: { [key: string]: NokaiData }) {\n        localStorage.setItem(this.nokaisKey, NokaiData.stringify(nokais))\n    }\n\n    static getNokais(): { [key: string]: NokaiData } {\n        const result = localStorage.getItem(this.nokaisKey)\n        if (result == null || result === \"\") {\n            return {}\n        } else {\n            return JSON.parse(result)\n        }\n    }\n}","import {NokaiData} from \"../data/NokaiData\";\nimport {NokaiId} from \"../../../blockchain/definition/types\";\nimport Storage from \"../../../utils/Storage\";\n\nexport class NokaiStore {\n    private static nokais: { [key: string]: NokaiData } = Storage.getNokais()\n    private static subscribers: { [key: string]: (nokaiIds: NokaiId[]) => any } = {}\n\n    static subscribe(id: string, callback: (nokaiIds: NokaiId[]) => any) {\n        this.subscribers[id] = callback\n    }\n\n    static unsubscribe(id: string) {\n        delete this.subscribers[id]\n    }\n\n    static get(nokaiId: NokaiId): NokaiData | null {\n        const nokai = this.nokais[nokaiId.toString()]\n        if (nokai === undefined) {\n            return null\n        }\n        return nokai\n    }\n\n    static list(nokaiIds: NokaiId[]): NokaiData[] {\n        let nokais: NokaiData[] = []\n        nokaiIds.forEach(nokaiId => {\n            let nokai = this.nokais[nokaiId.toString()]\n            if (nokai !== undefined) {\n                nokais.push(nokai)\n            }\n        })\n        return nokais\n    }\n\n    static mapping(nokaiIds: NokaiId[]): { [key: string]: NokaiData } {\n        let nokais: { [key: string]: NokaiData } = {}\n        nokaiIds.forEach(nokaiId => {\n            let nokai = this.nokais[nokaiId.toString()]\n            if (nokai !== undefined) {\n                nokais[nokaiId.toString()] = nokai\n            }\n        })\n        return nokais\n    }\n\n    static missing(ids: NokaiId[]): NokaiId[] {\n        const result: NokaiId[] = []\n        ids.forEach(nokaiId => {\n            if (this.nokais[nokaiId.toString()] === undefined || this.nokais[nokaiId.toString()] == null) {\n                result.push(nokaiId)\n            }\n        })\n        return result\n    }\n\n    static hasDiff(nokaiId: NokaiId, data: any): boolean {\n        const nokai = this.nokais[nokaiId.toString()]\n        return NokaiData.stringify(nokai) === NokaiData.stringify(data)\n        // (data.nokaiId === undefined && nokai.nokaiId !== data.nokaiId) ||\n        //     (data.imageUrl === undefined && nokai.imageUrl !== data.imageUrl) ||\n        //     (data.name === undefined && nokai.name !== data.name) ||\n        //     (data.profile === undefined && nokai.profile !== data.profile)\n    }\n\n    static diff(data: { [key: string]: {} }): { [key: string]: {} } {\n        const result: { [key: string]: {} } = {}\n        Object.keys(data).forEach(nokaiId => {\n            const nokai = this.nokais[nokaiId]\n            const newData = data[nokaiId]\n\n            if (nokai === undefined || nokai == null || this.hasDiff(BigInt(nokaiId), newData)) {\n                result[nokaiId] = data[nokaiId]\n            }\n        })\n        return result\n    }\n\n    static update(nokaiId: NokaiId, data: {}) {\n        this.nokais[nokaiId.toString()] = {...this.nokais[nokaiId.toString()], ...data}\n        Object.keys(this.subscribers).forEach(subscriber => {\n            this.subscribers[subscriber]([nokaiId])\n        })\n        Storage.setNokais(this.nokais)\n    }\n\n    static batch(data: { [key: string]: {} }) {\n        Object.keys(data).forEach(nokaiId => {\n            this.nokais[nokaiId] = {...this.nokais[nokaiId], ...data[nokaiId]}\n        })\n        Object.keys(this.subscribers).forEach(subscriber => {\n            this.subscribers[subscriber](Object.keys(data).map(id => BigInt(id)))\n        })\n        Storage.setNokais(this.nokais)\n    }\n}","import \"./game-board.scss\";\nimport {Component} from \"react\";\nimport {Point} from \"../../data/Point\";\nimport {Territory} from \"../../../../blockchain/definition/data/Territory\";\nimport {BoardPos} from \"../../data/BoardPos\";\nimport {GameResourceImg} from \"../../../../resources/images\";\nimport MathUtils from \"../../../../utils/MathUtils\";\nimport {DragNokai} from \"../../store/DragNokai\";\nimport {NokaiStore} from \"../../store/NokaiStore\";\nimport Web3Utils from \"../../../../blockchain/Web3Utils\";\n\ntype TerritoryProperties = {\n    className: string,\n    x: bigint,\n    y: bigint,\n    posX: number,\n    posY: number,\n    size: number,\n    index: bigint,\n    territory: Territory,\n    onClick: ((pos: BoardPos) => void) | null,\n    onMouseOver: ((pos: BoardPos) => void) | null,\n    onDragEnter: ((pos: BoardPos) => void) | null\n}\n\ntype TerritoryState = {\n    loading: boolean,\n    onDragFocus: boolean\n}\n\nexport default class BoardCase extends Component<TerritoryProperties, TerritoryState> {\n\n    static readonly spacing: number = 30\n    static readonly corners: Point[] = [\n        new Point(50, 0),\n        new Point(100, BoardCase.spacing),\n        new Point(100, 100 - BoardCase.spacing),\n        new Point(50, 100),\n        new Point(0, 100 - BoardCase.spacing),\n        new Point(0, BoardCase.spacing),\n    ]\n\n    constructor(props: TerritoryProperties) {\n        super(props)\n        this.state = {\n            loading: true,\n            onDragFocus: false\n        }\n    }\n\n    componentDidMount() {\n        this.setState({loading: false})\n    }\n\n    onMouseOver(event: any) {\n        if (this.props.onMouseOver) {\n            this.props.onMouseOver(new BoardPos(this.props.index, this.props.x, this.props.y, this.props.posX, this.props.posY));\n        }\n    }\n\n    onDragEnter(event: any) {\n        const position = new BoardPos(this.props.index, this.props.x, this.props.y, this.props.posX, this.props.posY)\n        DragNokai.changePos(position)\n        if (this.props.onDragEnter) {\n            this.props.onDragEnter(position)\n        }\n        this.setState({onDragFocus: true})\n    }\n\n    onDragLeave(event: any) {\n        this.setState({onDragFocus: false})\n        if (!(event.relatedTarget == null || event.relatedTarget.tagName === 'polygon')) {\n            DragNokai.resetPosition()\n        }\n    }\n\n\n    onClick(event: any) {\n        if (this.props.onClick) {\n            this.props.onClick(new BoardPos(this.props.index, this.props.x, this.props.y, this.props.posX, this.props.posY));\n        }\n    }\n\n    calculateCoordinates(): Point[] {\n        return BoardCase.corners.map(point => {\n            return new Point(\n                (point.x * this.props.size / 100) + (this.props.posX * this.props.size),\n                (point.y * this.props.size / 100) + (this.props.posY * this.props.size) - (BoardCase.spacing * this.props.posY)\n            )\n        })\n    }\n\n    getResource(): { img: any, width: number, height: number } | null {\n        if (this.props.territory.uxonium > 0) {\n            return {\n                img: GameResourceImg.UXONIUM,\n                width: 50,\n                height: 50\n            }\n        } else if (this.props.territory.darkMatter > 0) {\n            return {\n                img: GameResourceImg.DARK_MATTER,\n                width: MathUtils.max(45 * Number(this.props.territory.darkMatter) / 100, 15),\n                height: MathUtils.max(45 * Number(this.props.territory.darkMatter) / 100, 15)\n            }\n        } else if (this.props.territory.plasmaEnergy > 0) {\n            return {\n                img: GameResourceImg.PLASMA_ENERGY,\n                width: MathUtils.max(45 * Number(this.props.territory.plasmaEnergy) / 100, 15),\n                height: MathUtils.max(45 * Number(this.props.territory.plasmaEnergy) / 100, 151)\n            }\n        } else if (this.props.territory.voidEssence > 0) {\n            return {\n                img: GameResourceImg.VOID_ESSENCE,\n                width: MathUtils.max(45 * Number(this.props.territory.voidEssence) / 100, 15),\n                height: MathUtils.max(45 * Number(this.props.territory.voidEssence) / 100, 15)\n            }\n        } else {\n            return null\n        }\n    }\n\n    getClassName() {\n        const territoryOwned = (this.props.territory.owner !== Web3Utils.nullAddress() ? \" territory-owned\" : \"\")\n        const territoryOwnedByCurrent = (this.props.territory.owner === Web3Utils.getDefaultAccount() ? \" territory-owned-current\" : \"\")\n        return this.props.className + territoryOwned + territoryOwnedByCurrent\n    }\n\n    render() {\n        const resource = this.getResource()\n        const points = this.calculateCoordinates().map(point => `${point.x},${point.y}`).join(\" \")\n        const x = this.props.posX * this.props.size\n        const y = (this.props.posY * this.props.size) - (BoardCase.spacing * this.props.posY)\n        const nokai = this.props.territory.nokaiId !== BigInt(0) ? NokaiStore.get(this.props.territory.nokaiId) : null\n        return <g className={'hexagon-group ' + this.getClassName()}\n                  onMouseOver={e => this.onMouseOver(e)}\n                  onClick={e => this.onClick(e)}\n                  onDragEnter={e => {\n                      this.onDragEnter(e)\n                  }}\n                  onDragLeave={e => {\n                      this.onDragLeave(e)\n                  }}\n        >\n            <g className={\"hexagon\" + (this.state.onDragFocus ? \" case-drag-focus\" : \"\")}>\n                <text x={x + 24}\n                      y={y + 55}\n                      fill=\"black\">{Number(this.props.x)}_{Number(this.props.y)}</text>\n                <polygon points={points}/>\n                {resource != null && <image href={resource.img}\n                                            height={resource.height} width={resource.width}\n                                            x={x + (this.props.size / 2) - (resource.width / 2)}\n                                            y={y + (this.props.size / 2) - (resource.height / 2)}/>}\n                {nokai != null && <image href={nokai.imageUrl}\n                                         height={40} width={40}\n                                         x={x + (this.props.size / 2)}\n                                         y={y + (this.props.size / 2)}/>}\n            </g>\n        </g>\n    }\n}","import {Address, NokaiId} from \"./types\";\nimport {Contract} from \"web3-eth-contract\";\nimport NumberUtils from \"../../utils/NumberUtils\";\nimport Web3Utils from \"../Web3Utils\";\n\nexport enum StatType {\n    HP,\n    ATTACK,\n    DEFENSE,\n    REGEN,\n    PA\n}\n\nexport interface NokaiBorn {\n    nokaiId: NokaiId,\n    owner: Address\n}\n\nexport class NokaiBorn {\n    static parse(data: any): NokaiBorn {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId),\n            owner: Web3Utils.address(data.owner)\n        }\n    }\n}\n\nexport interface NokaiBornSearch {\n    nokaiId: NokaiId | null,\n    owner: Address | null,\n}\n\nexport interface NokaiUpgraded {\n    nokaiId: NokaiId,\n    owner: Address\n}\n\nexport class NokaiUpgraded {\n    static parse(data: any): NokaiUpgraded {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId),\n            owner: Web3Utils.address(data.owner)\n        }\n    }\n}\n\nexport interface NokaiUpgradedSearch {\n    nokaiId: NokaiId | null,\n    owner: Address | null\n}\n\ninterface Methods {\n    /* ADMIN */\n    setUri: (baseUri: string) => any,\n    lockMint: () => any,\n    unlockMint: () => any,\n    lockTransfer: () => any,\n    unlockTransfer: () => any,\n    setup: (nbGods: bigint) => bigint,\n    /* PLAYER */\n    absorb: (nokaiId: NokaiId, targetId: NokaiId, upgradeChoice: StatType) => any,\n    listFor: (owner: Address) => bigint[]\n    tokenURI: (nokaiId: NokaiId) => string\n}\n\ninterface Events {\n    NokaiBorn: any,\n    NokaiUpgraded: any,\n}\n\nexport interface NokaiContract extends Contract {\n    methods: Methods\n    events: Events\n}","import \"./game-board.scss\";\nimport {Component} from \"react\";\nimport BlackHole from \"../../../../api/BlackHole\";\nimport {BlackHoleContract} from \"../../../../blockchain/definition/BlackHoleContract\";\nimport BoardCase from \"./BoardCase\";\nimport {Territory} from \"../../../../blockchain/definition/data/Territory\";\nimport MathUtils from \"../../../../utils/MathUtils\";\nimport {BoardPos} from \"../../data/BoardPos\";\n\nclass Canvas {\n    width: number = 1400\n    height: number = 750\n    caseLength: bigint = BigInt(100)\n}\n\nclass Camera {\n    x: bigint\n    y: bigint\n    totalX: bigint\n    totalY: bigint\n\n    constructor(x: bigint, y: bigint, totalX: bigint, totalY: bigint) {\n        this.x = x;\n        this.y = y;\n        this.totalX = totalX;\n        this.totalY = totalY;\n    }\n\n    setX(x: bigint): Camera {\n        this.x = x;\n        return this\n    }\n\n    setY(y: bigint): Camera {\n        this.y = y;\n        return this\n    }\n}\n\nclass Board {\n    casesX: bigint\n    casesY: bigint\n    total: bigint\n\n    constructor(x: bigint, y: bigint) {\n        this.casesX = x;\n        this.casesY = y;\n        this.total = x * y\n    }\n}\n\ntype CameraPos = {\n    key: number,\n    x: bigint,\n    y: bigint,\n    posX: number,\n    posY: number,\n    territory: Territory\n}\ntype GameBoardProperties = {\n    blackhole: BlackHoleContract\n}\n\ntype GameBoardState = {\n    loading: boolean,\n    canvas: Canvas,\n    camera: Camera,\n    board: Board,\n    boxSelected: BoardPos | null,\n    boxFocused: BoardPos | null,\n    positions: { [key: number]: Territory }\n}\n\nexport default class GameBoard extends Component<GameBoardProperties, GameBoardState> {\n\n    constructor(props: GameBoardProperties) {\n        super(props)\n        this.state = {\n            loading: true,\n            canvas: new Canvas(),\n            camera: new Camera(BigInt(0), BigInt(0), BigInt(14), BigInt(11)),\n            board: new Board(BigInt(0), BigInt(0)),\n            positions: {},\n            boxSelected: null,\n            boxFocused: null\n        }\n        this.boxClicked = this.boxClicked.bind(this)\n        this.boxUnSelect = this.boxUnSelect.bind(this)\n        this.boxHover = this.boxHover.bind(this)\n    }\n\n    async componentDidMount() {\n        Promise.all([\n            BlackHole.getMaxX(this.props.blackhole),\n            BlackHole.getMaxY(this.props.blackhole)\n        ]).then((values) => {\n            this.setState({board: new Board(values[0], values[1])})\n\n            this.loadDataForCamera(BigInt(0), this.state.camera.totalX + BigInt(1), BigInt(0), this.state.camera.totalY + BigInt(1)).then(() => {\n                this.setState({loading: false})\n            })\n        });\n\n        document.addEventListener(\"keydown\", this._handleKeyDown)\n        document.addEventListener(\"keyup\", this._handleKeyUp)\n    }\n\n    componentWillUnmount() {\n        document.addEventListener(\"keydown\", this._handleKeyDown)\n        document.removeEventListener(\"keyup\", this._handleKeyUp)\n    }\n\n    needQueryData(startPos: bigint, endPos: bigint, startLine: bigint, endLine: bigint): boolean {\n        for (let y = startLine; y < endLine; y++) {\n            for (let x = startPos; x < endPos; x++) {\n                const key: number = Number(y * this.state.board.casesX + x)\n                if (this.state.positions[key] === undefined) {\n                    return true;\n                }\n            }\n        }\n        return false\n    }\n\n    async loadDataForCamera(startPos: bigint, endPos: bigint, startLine: bigint, endLine: bigint) {\n        if (startPos > endPos) {\n            let tmp = startPos\n            startPos = endPos\n            endPos = tmp\n        }\n        if (startLine > endLine) {\n            let tmp = startLine\n            startLine = endLine\n            endLine = tmp\n        }\n        startPos = startPos >= BigInt(0) ? startPos : BigInt(0)\n        startLine = startPos >= BigInt(0) ? startLine : BigInt(0)\n        endPos = endPos < this.state.board.casesX ? endPos : this.state.board.casesX\n        endLine = endLine < this.state.board.casesY ? endLine : this.state.board.casesY\n        if (!this.needQueryData(startPos, endPos, startLine, endLine))\n            return\n        console.log(\"LOAD QUERY:\", startPos, endPos, startLine, endLine)\n        BlackHole.getTerritoryForBox(this.props.blackhole, startPos, endPos, startLine, endLine).then(territories => {\n            let positions: { [key: number]: Territory } = {}\n            territories.forEach((territory, index) => {\n                const lineCount = endPos - startPos\n                const lineIndex: bigint = (BigInt(index) / lineCount) + startLine\n                const origin: bigint = (lineIndex * this.state.board.casesX) + startPos\n                const pos: bigint = origin + (BigInt(index) % lineCount)\n                positions[Number(pos)] = territory\n            })\n            //console.log(\"response:\", positions)\n            console.log(\"BOARD:\", {...this.state.positions, ...positions})\n            this.setState({positions: {...this.state.positions, ...positions}})\n        })\n    }\n\n    moveCameraX(value: number) {\n        let max = this.state.board.casesX - this.state.camera.totalX > BigInt(0) ? this.state.board.casesX - this.state.camera.totalX : BigInt(0)\n        let posX: bigint = this.state.camera.x + BigInt(value)\n        if (posX < 0) {\n            posX = BigInt(0)\n        }\n        if (posX > max) {\n            posX = max\n        }\n        this.setState({camera: this.state.camera.setX(posX)})\n        if (posX + this.state.camera.totalX + BigInt(value) < max) {\n            this.loadDataForCamera(posX + this.state.camera.totalX, posX + this.state.camera.totalX + BigInt(value), this.state.camera.y, this.state.camera.y + this.state.camera.totalY)\n        }\n    }\n\n    moveCameraY(value: number) {\n        let max = this.state.board.casesY - this.state.camera.totalY > BigInt(0) ? this.state.board.casesY - this.state.camera.totalY : BigInt(0)\n        let posY: bigint = this.state.camera.y + BigInt(value)\n        if (posY < 0) {\n            posY = BigInt(0)\n        }\n        if (posY > max) {\n            posY = max\n        }\n        this.setState({camera: this.state.camera.setY(posY)})\n        if (posY + this.state.camera.totalY + BigInt(value) < max) {\n            this.loadDataForCamera(this.state.camera.x, this.state.camera.x + this.state.camera.totalX, posY + this.state.camera.totalY, posY + this.state.camera.totalY + BigInt(value))\n        }\n    }\n\n    _handleKeyUp = (event: { keyCode: number, preventDefault: any }) => {\n        switch (event.keyCode) {\n            case 40: // BOTTOM\n                event.preventDefault()\n                this.moveCameraY(1)\n                break\n            case 39: // RIGHT\n                event.preventDefault()\n                this.moveCameraX(1)\n                break\n            case 38: // TOP\n                event.preventDefault()\n                this.moveCameraY(-1)\n                break\n            case 37: // LEFT\n                event.preventDefault()\n                this.moveCameraX(-1)\n                break\n            default:\n                break\n        }\n    }\n\n    _handleKeyDown = (event: { keyCode: number, preventDefault: any }) => {\n        switch (event.keyCode) {\n            case 40: // BOTTOM\n                event.preventDefault()\n                break\n            case 39: // RIGHT\n                event.preventDefault()\n                break\n            case 38: // TOP\n                event.preventDefault()\n                break\n            case 37: // LEFT\n                event.preventDefault()\n                break\n            default:\n                break\n        }\n    }\n\n    private getCameraView(): CameraPos[] {\n        const result: CameraPos[] = []\n        const originX = this.state.camera.x === BigInt(0)\n        const originY = this.state.camera.y === BigInt(0)\n\n        const camX = originX ? this.state.camera.x : this.state.camera.x - BigInt(1)\n        const camY = originY ? this.state.camera.y : this.state.camera.y - BigInt(1)\n        let maxX = camX + this.state.camera.totalX + BigInt(1)\n        let maxY = camY + this.state.camera.totalY + BigInt(1)\n\n        maxX = maxX < this.state.board.casesX ? maxX : this.state.board.casesX\n        maxY = maxY < this.state.board.casesY ? maxY : this.state.board.casesY\n\n        for (let y = camY; y < maxY; y++) {\n            for (let x = camX; x < maxX; x++) {\n\n                const key: number = Number(y * this.state.board.casesX + x)\n\n                //console.log(`[${key}] (${x}, ${y}): ${this.state.positions[key]}`)\n                if (this.state.positions[key] !== undefined) {\n                    const posY: number = Number(y - camY) - (originY ? 0 : 1)\n                    const posX: number = Number(x - camX) - (originX ? 0 : 1)\n\n                    let adjustX: number = 0\n                    if (MathUtils.isNotEven2(posY) || MathUtils.isNotEven(this.state.camera.y))\n                        adjustX = 0.5\n                    if (MathUtils.isNotEven2(posY) && MathUtils.isNotEven(this.state.camera.y))\n                        adjustX = 0\n\n                    result.push({\n                        key: key,\n                        territory: this.state.positions[key],\n                        posX: posX + adjustX,\n                        posY: posY,\n                        x: x,\n                        y: y,\n                    })\n                }\n            }\n        }\n        return result;\n    }\n\n    boxClicked(pos: BoardPos) {\n        if (this.state.boxSelected?.index === pos.index) {\n            this.boxUnSelect()\n        } else {\n            this.setState({boxSelected: pos})\n        }\n    }\n\n    boxUnSelect() {\n        this.setState({boxSelected: null})\n    }\n\n    boxHover(pos: BoardPos) {\n        this.setState({boxFocused: pos})\n    }\n\n    getClassName(index: bigint): string {\n        if (this.state.boxSelected?.index === index) {\n            return \"box-selected\"\n        } else if (this.state.boxFocused?.index === index) {\n            return \"box-foxused\"\n        } else {\n            return \"\"\n        }\n    }\n\n    allowedDistanceForTarget(): boolean {\n        if (this.state.boxSelected !== null && this.state.boxFocused !== null) {\n            let diffX = this.state.boxSelected.posX - this.state.boxFocused.posX\n            let diffY = this.state.boxSelected.posY - this.state.boxFocused.posY\n            return diffX <= 1 && diffX >= -1 && diffY <= 1 && diffY >= -1\n        }\n        return false;\n    }\n\n    getPath(pos1: BoardPos, pos2: BoardPos): string {\n        return `M${(pos1.posX * 100) + 50} ${(pos1.posY * 100) + 50 - (BoardCase.spacing * pos1.posY)} L${(pos2.posX * 100) + 50} ${(pos2.posY * 100) + 50 - (BoardCase.spacing * pos2.posY)}`\n    }\n\n    render() {\n        return <div>\n            <div className=\"row\">\n                <div className=\"col-md-9\">\n                    <h6>Camera [{Number(this.state.camera.x)}, {Number(this.state.camera.y)}] __ Map\n                        [{Number(this.state.board.casesX)}, {Number(this.state.board.casesY)}]</h6>\n                </div>\n                <div className=\"col-md-3\">\n                    {this.state.boxFocused != null &&\n                        <h6>Position [{Number(this.state.boxFocused.x)}, {Number(this.state.boxFocused.y)}]</h6>}\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <svg width={this.state.canvas.width} height={this.state.canvas.height}\n                         style={{border: \"1px solid grey\"}}>\n\n                        {!this.state.loading && this.getCameraView().map((data, index) => {\n                            return <BoardCase key={index} className={this.getClassName(BigInt(data.key))}\n                                              index={BigInt(data.key)} x={data.x} y={data.y} posX={data.posX}\n                                              posY={data.posY} size={Number(this.state.canvas.caseLength)}\n                                              territory={data.territory}\n                                              onClick={this.boxClicked}\n                                              onMouseOver={this.boxHover}\n                                              onDragEnter={null}/>\n                        })\n                        }\n\n                        {this.allowedDistanceForTarget() &&\n                            <path d={this.getPath(this.state.boxSelected!!, this.state.boxFocused!!)}/>\n                        }\n                    </svg>\n                </div>\n            </div>\n        </div>\n    }\n}","import BlackHole from './contracts/BlackHole.json';\nimport Nokai from './contracts/Nokai.json';\nimport NokaiStats from './contracts/NokaiStats.json';\nimport GameManager from './contracts/GameManager.json';\nimport Web3Utils from \"./Web3Utils\";\nimport {BlackHoleContract} from \"./definition/BlackHoleContract\";\nimport {NokaiContract} from \"./definition/NokaiContract\";\nimport {NokaiStatsContract} from \"./definition/NokaiStatsContract\";\nimport {GameManagerContract} from \"./definition/GameManagerContract\";\n\ndeclare let window: any;\n\nexport default class ContractLoader {\n\n    static async instantiateBlackHole(): Promise<BlackHoleContract | null> {\n        const networkId = await Web3Utils.getNetwork()\n        // @ts-ignore\n        const BlackHoleData = BlackHole.networks[networkId]\n        if (BlackHoleData) {\n            return new window.web3.eth.Contract(BlackHole.abi, BlackHoleData.address)\n        } else {\n            window.alert('BlackHole contract not deployed to detected network.')\n            return null\n        }\n    }\n\n    static async instantiateNokai(): Promise<NokaiContract | null> {\n        console.log(\"load blackhole\")\n        const networkId = await Web3Utils.getNetwork()\n        // @ts-ignore\n        const NokaiData = Nokai.networks[networkId]\n        if (NokaiData) {\n            return new window.web3.eth.Contract(Nokai.abi, NokaiData.address)\n        } else {\n            window.alert('Nokai contract not deployed to detected network.')\n            return null\n        }\n    }\n\n    static async instantiateNokaiStats(): Promise<NokaiStatsContract | null> {\n        const networkId = await Web3Utils.getNetwork()\n        // @ts-ignore\n        const NokaiStatsData = NokaiStats.networks[networkId]\n        if (NokaiStatsData) {\n            return new window.web3.eth.Contract(NokaiStats.abi, NokaiStatsData.address)\n        } else {\n            window.alert('NokaiStats contract not deployed to detected network.')\n            return null\n        }\n    }\n\n    static async instantiateGameManager(): Promise<GameManagerContract | null> {\n        const networkId = await Web3Utils.getNetwork()\n        // @ts-ignore\n        const GameManagerData = GameManager.networks[networkId]\n        if (GameManagerData) {\n            return new window.web3.eth.Contract(GameManager.abi, GameManagerData.address)\n        } else {\n            window.alert('NokaiStats contract not deployed to detected network.')\n            return null\n        }\n    }\n\n}","import {NokaiBorn, NokaiBornSearch, NokaiContract, NokaiUpgraded, NokaiUpgradedSearch, StatType} from \"../blockchain/definition/NokaiContract\";\nimport Lina from \"../blockchain/Lina\";\nimport {Address, NokaiId} from \"../blockchain/definition/types\";\n\nexport default class Nokai {\n\n    static async setUri(contract: NokaiContract, baseUri: string) {\n        await Lina.send(contract.methods.setUri(baseUri))\n    }\n\n    static async lockMint(contract: NokaiContract) {\n        await Lina.send(contract.methods.lockMint())\n    }\n\n    static async unlockMint(contract: NokaiContract) {\n        await Lina.send(contract.methods.unlockMint())\n    }\n\n    static async lockTransfer(contract: NokaiContract) {\n        await Lina.send(contract.methods.lockTransfer())\n    }\n\n    static async unlockTransfer(contract: NokaiContract) {\n        await Lina.send(contract.methods.unlockTransfer())\n    }\n\n    static async setup(contract: NokaiContract, nbGods: bigint) {\n        await Lina.send(contract.methods.setup(nbGods))\n    }\n\n    static async absorb(contract: NokaiContract, nokaiId: NokaiId, targetId: NokaiId, upgradeChoice: StatType) {\n        await Lina.send(contract.methods.absorb(nokaiId, targetId, upgradeChoice))\n    }\n\n    static async listFor(contract: NokaiContract, owner: Address): Promise<bigint[]> {\n        return await Lina.call(contract.methods.listFor(owner))\n    }\n\n    static async tokenURI(contract: NokaiContract, nokaiId: NokaiId): Promise<string> {\n        return await Lina.call(contract.methods.tokenURI(nokaiId))\n    }\n\n    static subscribeNokaiBorn(contract: NokaiContract, search: NokaiBornSearch, callback: (data: NokaiBorn) => any) {\n        contract.events.NokaiBorn(search).on('data', (data: any) => {\n            callback(NokaiBorn.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiUpgraded(contract: NokaiContract, search: NokaiUpgradedSearch, callback: (data: NokaiUpgraded) => any) {\n        contract.events.NokaiUpgraded(search).on('data', (data: any) => {\n            callback(NokaiUpgraded.parse(data.returnValues))\n        })\n    }\n}","export default class HttpUtils {\n    static async get<T>(url: string, success: (result: T) => any, failure: ((error: any) => any) | null): Promise<any> {\n        return fetch(url)\n            .then((response) => response.json())\n            .then((result) => {\n                return success(result)\n            })\n            .catch((error) => {\n                if (failure != null) {\n                    failure(error)\n                } else console.log(error)\n            });\n    }\n}","export class NfStorage {\n    public static config = \"https://raw.githubusercontent.com/Draym/NokaiGen/main/config\" //\"https://gateway.pinata.cloud/ipfs/QmScX47Mwr7Hdm7nPrP2N6Abm4eXQLqacKBo3NyDqqf6A3\"\n    public static img = \"https://raw.githubusercontent.com/Draym/NokaiGen/main/result\"//\"https://gateway.pinata.cloud/ipfs/QmVjBKqBGMus2eXCRVAxx8wGP1sbMvveSfJnerao3qDbjn\"\n}","import {Contract} from \"web3-eth-contract\";\nimport {NokaiId} from \"./types\";\nimport {Profile, ProfileDTO} from \"./data/NokaiProfile\";\nimport NumberUtils from \"../../utils/NumberUtils\";\n\nexport interface NokaiDamaged {\n    nokaiId: NokaiId,\n    newHp: bigint\n}\n\nexport class NokaiDamaged {\n    static parse(data: any): NokaiDamaged {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId),\n            newHp: NumberUtils.from(data.newHp)\n        }\n    }\n}\n\nexport interface NokaiDamagedSearch {\n    nokaiId: NokaiId | null,\n}\n\nexport interface NokaiKilled {\n    nokaiId: NokaiId,\n}\n\nexport class NokaiKilled {\n    static parse(data: any): NokaiKilled {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId)\n        }\n    }\n}\n\nexport interface NokaiKilledSearch {\n    nokaiId: NokaiId | null,\n}\n\nexport interface NokaiReborn {\n    nokaiId: NokaiId,\n}\n\nexport class NokaiReborn {\n    static parse(data: any): NokaiReborn {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId)\n        }\n    }\n}\n\nexport interface NokaiRebornSearch {\n    nokaiId: NokaiId | null,\n}\n\nexport interface NokaiHealed {\n    nokaiId: NokaiId,\n    amount: bigint\n}\n\nexport class NokaiHealed {\n    static parse(data: any): NokaiHealed {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId),\n            amount: NumberUtils.from(data.amount)\n        }\n    }\n}\n\nexport interface NokaiHealedSearch {\n    nokaiId: NokaiId | null,\n}\n\nexport interface NokaiEnergized {\n    nokaiId: NokaiId,\n}\n\nexport class NokaiEnergized {\n    static parse(data: any): NokaiEnergized {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId)\n        }\n    }\n}\n\nexport interface NokaiEnergizedSearch {\n    nokaiId: NokaiId | null,\n}\n\nexport interface NokaiEmptyEnergy {\n    nokaiId: NokaiId,\n}\n\nexport class NokaiEmptyEnergy {\n    static parse(data: any): NokaiEmptyEnergy {\n        return {\n            nokaiId: NumberUtils.from(data.nokaiId)\n        }\n    }\n}\n\nexport interface NokaiEmptyEnergySearch {\n    nokaiId: NokaiId | null,\n}\n\n\ninterface Methods {\n    profile: (nokaiId: NokaiId) => Profile\n    profiles: (nokaiIds: NokaiId[]) => ProfileDTO[]\n}\n\ninterface Events {\n    NokaiDamaged: any,\n    NokaiKilled: any,\n    NokaiReborn: any,\n    NokaiHealed: any,\n    NokaiEnergized: any,\n    NokaiEmptyEnergy: any\n}\n\nexport interface NokaiStatsContract extends Contract {\n    methods: Methods\n    events: Events\n}","import NumberUtils from \"../../../utils/NumberUtils\";\nimport {NokaiId} from \"../types\";\n\nenum Rarity {\n    Spirit,\n    Champion,\n    Overlord,\n    Astral,\n    Legend,\n    God\n}\n\nenum Technique {\n    SPECIALIST, // hit twice at 75%\n    GUARDIAN, // block 40% dmg after defense\n    GLUTTON, // steal 30% opponent's attack stat\n    BUFFOON, // reduce opponent's attack and defence by 20%\n    DESTROYER, // break 50% opponent's defense\n    FOOL, // cancel opponent's passives\n    DEADLY, // critical hit - deal +40% dmg\n    AUTHORITY, // survive with 1hp if killed by lower class Nokai\n    REVENGER, // hit twice at 100% on death\n    MIMIC // copy opponent technique\n}\n\nexport interface Stats {\n    hp: bigint,\n    attack: bigint,\n    defense: bigint,\n    regen: bigint,\n    pa: bigint,\n    gradeValue: bigint,\n    grade: Rarity,\n    technique1: Technique,\n    technique2: Technique\n}\n\nexport interface Profile {\n    stats: Stats,\n    currentHp: bigint,\n    currentPa: bigint,\n    dead: boolean,\n    burned: boolean,\n    lastHpSet: bigint,\n    lastPaSet: bigint\n}\n\nexport interface ProfileDTO {\n    nokaiId: NokaiId,\n    stats: Stats,\n    currentHp: bigint,\n    currentPa: bigint,\n    dead: boolean,\n    burned: boolean,\n    lastHpSet: bigint,\n    lastPaSet: bigint\n}\n\nexport function parseProfileDTO(data: any): ProfileDTO {\n    return {\n        nokaiId: data.nokaiId,\n        stats: {\n            hp: NumberUtils.from(data.stats.hp),\n            attack: NumberUtils.from(data.stats.attack),\n            defense: NumberUtils.from(data.stats.defense),\n            regen: NumberUtils.from(data.stats.regen),\n            pa: NumberUtils.from(data.stats.pa),\n            gradeValue: NumberUtils.from(data.stats.gradeValue),\n            grade: data.stats.grade,\n            technique1: data.stats.technique1,\n            technique2: data.stats.technique2,\n        },\n        currentHp: NumberUtils.from(data.currentHp),\n        currentPa: NumberUtils.from(data.currentPa),\n        dead: data.dead,\n        burned: data.burned,\n        lastHpSet: NumberUtils.from(data.lastHpSet),\n        lastPaSet:  NumberUtils.from(data.lastPaSet),\n    }\n}\n\nexport function parseProfile(data: any): Profile {\n    return {\n        stats: {\n            hp: NumberUtils.from(data.stats.hp),\n            attack: NumberUtils.from(data.stats.attack),\n            defense: NumberUtils.from(data.stats.defense),\n            regen: NumberUtils.from(data.stats.regen),\n            pa: NumberUtils.from(data.stats.pa),\n            gradeValue: NumberUtils.from(data.stats.gradeValue),\n            grade: data.stats.grade,\n            technique1: data.stats.technique1,\n            technique2: data.stats.technique2,\n        },\n        currentHp: NumberUtils.from(data.currentHp),\n        currentPa: NumberUtils.from(data.currentPa),\n        dead: data.dead,\n        burned: data.burned,\n        lastHpSet: NumberUtils.from(data.lastHpSet),\n        lastPaSet:  NumberUtils.from(data.lastPaSet),\n    }\n}","import {\n    NokaiDamaged,\n    NokaiDamagedSearch,\n    NokaiEmptyEnergy,\n    NokaiEmptyEnergySearch,\n    NokaiEnergized,\n    NokaiEnergizedSearch,\n    NokaiHealed,\n    NokaiHealedSearch,\n    NokaiKilled,\n    NokaiKilledSearch,\n    NokaiReborn,\n    NokaiRebornSearch,\n    NokaiStatsContract\n} from \"../blockchain/definition/NokaiStatsContract\";\nimport Lina from \"../blockchain/Lina\";\nimport {NokaiId} from \"../blockchain/definition/types\";\nimport {parseProfile, parseProfileDTO, Profile, ProfileDTO} from \"../blockchain/definition/data/NokaiProfile\";\n\nexport default class NokaiStats {\n\n    static async profile(contract: NokaiStatsContract, nokaiId: NokaiId): Promise<Profile> {\n        return parseProfile(await Lina.call(contract.methods.profile(nokaiId)))\n    }\n\n    static async profiles(contract: NokaiStatsContract, nokaiIds: NokaiId[]): Promise<ProfileDTO[]> {\n        const data = await Lina.call(contract.methods.profiles(nokaiIds))\n        return data.map((result: any) => {\n            return parseProfileDTO(result)\n        })\n    }\n\n    static subscribeNokaiDamaged(contract: NokaiStatsContract, search: NokaiDamagedSearch, callback: (data: NokaiDamaged) => any) {\n        contract.events.NokaiDamaged(search).on('data', (data: any) => {\n            callback(NokaiDamaged.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiKilled(contract: NokaiStatsContract, search: NokaiKilledSearch, callback: (data: NokaiKilled) => any) {\n        contract.events.NokaiKilled(search).on('data', (data: any) => {\n            callback(NokaiKilled.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiReborn(contract: NokaiStatsContract, search: NokaiRebornSearch, callback: (data: NokaiReborn) => any) {\n        contract.events.NokaiReborn(search).on('data', (data: any) => {\n            callback(NokaiReborn.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiHealed(contract: NokaiStatsContract, search: NokaiHealedSearch, callback: (data: NokaiHealed) => any) {\n        contract.events.NokaiHealed(search).on('data', (data: any) => {\n            callback(NokaiHealed.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiEnergized(contract: NokaiStatsContract, search: NokaiEnergizedSearch, callback: (data: NokaiEnergized) => any) {\n        contract.events.NokaiEnergized(search).on('data', (data: any) => {\n            callback(NokaiEnergized.parse(data.returnValues))\n        })\n    }\n\n    static subscribeNokaiEmptyEnergy(contract: NokaiStatsContract, search: NokaiEmptyEnergySearch, callback: (data: NokaiEmptyEnergy) => any) {\n        contract.events.NokaiEmptyEnergy(search).on('data', (data: any) => {\n            callback(NokaiEmptyEnergy.parse(data.returnValues))\n        })\n    }\n\n}","import \"./nokai-inventory.scss\";\nimport React, {Component} from \"react\";\nimport {Address, NokaiId} from \"../../../../blockchain/definition/types\";\nimport {NokaiContract} from \"../../../../blockchain/definition/NokaiContract\";\nimport Nokai from \"../../../../api/Nokai\";\nimport HttpUtils from \"../../../../utils/HttpUtils\";\nimport {NokaiConfig} from \"../../data/NokaiConfig\";\nimport {NfStorage} from \"../../../../utils/NftStorage\";\nimport NokaiStats from \"../../../../api/NokaiStats\";\nimport {NokaiStore} from \"../../store/NokaiStore\";\nimport {NokaiStatsContract} from \"../../../../blockchain/definition/NokaiStatsContract\";\nimport {DragNokai} from \"../../store/DragNokai\";\nimport BlackHole from \"../../../../api/BlackHole\";\nimport {BlackHoleContract} from \"../../../../blockchain/definition/BlackHoleContract\";\n\ntype NokaiInventoryProperties = {\n    nokai: NokaiContract,\n    nokaiStats: NokaiStatsContract,\n    blackhole: BlackHoleContract,\n    account: Address,\n    onClicked: ((nokaiId: NokaiId) => void) | null,\n    onDragged: ((nokaiId: NokaiId) => void) | null\n}\n\ntype NokaiInventoryState = {\n    nokaisUpdatedAt: number,\n    ownedNokaiIds: NokaiId[],\n    loading: boolean\n}\n\nexport default class NokaiInventory extends Component<NokaiInventoryProperties, NokaiInventoryState> {\n    constructor(props: NokaiInventoryProperties) {\n        super(props)\n        this.state = {\n            nokaisUpdatedAt: Date.now(),\n            ownedNokaiIds: [],\n            loading: true\n        }\n        this.nokaisUpdated = this.nokaisUpdated.bind(this)\n        this.onNokaiClick = this.onNokaiClick.bind(this)\n        this.onNokaiDragEnd = this.onNokaiDragEnd.bind(this)\n    }\n\n    async componentDidMount() {\n        NokaiStore.subscribe(\"NokaiInventory\", this.nokaisUpdated)\n        await this.loadNokais()\n    }\n\n    componentWillUnmount() {\n        NokaiStore.unsubscribe(\"NokaiInventory\")\n    }\n\n    async componentDidUpdate(prevProps: Readonly<NokaiInventoryProperties>, prevState: Readonly<NokaiInventoryState>, snapshot?: any) {\n        if (this.props.account !== prevProps.account) {\n            await this.loadNokais()\n        }\n    }\n\n    nokaisUpdated(nokaiIds: NokaiId[]) {\n        this.setState({nokaisUpdatedAt: Date.now()})\n    }\n\n    async loadNokais() {\n        Nokai.listFor(this.props.nokai, this.props.account).then(nokaiIds => {\n            const required = NokaiStore.missing(nokaiIds)\n\n            if (required.length !== 0) {\n                NokaiStats.profiles(this.props.nokaiStats, required).then(profiles => {\n                    const data: { [key: string]: {} } = {}\n                    profiles.forEach(profile => {\n                        data[profile.nokaiId.toString()] = {profile: profile}\n                    })\n                    NokaiStore.batch(data)\n                })\n\n                required.forEach(nokaiId => {\n                    HttpUtils.get(NfStorage.config + `/${nokaiId}.json`, (result: NokaiConfig) => {\n                        NokaiStore.update(nokaiId, {\n                            nokaiId: nokaiId,\n                            imageUrl: NfStorage.img + `/${result.image}`,\n                            name: result.name\n                        })\n                    }, null)\n                    BlackHole.getNokaiPos(this.props.blackhole, nokaiId).then(nokaiPos => {\n                        NokaiStore.update(nokaiId, {\n                            nokaiPos: nokaiPos\n                        })\n                    })\n                })\n            }\n            this.setState({loading: false, ownedNokaiIds: nokaiIds})\n        })\n    }\n\n    onNokaiClick(e: React.MouseEvent<HTMLImageElement>, nokaiId: NokaiId) {\n        e.preventDefault()\n        if (this.props.onClicked != null) {\n            this.props.onClicked(nokaiId)\n        }\n    }\n\n    onNokaiDragStart(e: React.MouseEvent<HTMLImageElement>, nokaiId: NokaiId) {\n        const nokai = NokaiStore.get(nokaiId)\n        if (nokai != null && nokai.nokaiPos !== undefined && nokai.nokaiPos.onBoard) {\n            e.preventDefault()\n        } else {\n            DragNokai.nokaiDragged(nokaiId)\n        }\n    }\n\n    onNokaiDragEnd(e: React.MouseEvent<HTMLImageElement>, nokaiId: NokaiId) {\n        e.preventDefault()\n        if (this.props.onDragged != null) {\n            this.props.onDragged(nokaiId)\n            DragNokai.reset()\n        }\n    }\n\n    render() {\n        return <div>\n            {!this.state.loading && NokaiStore.list(this.state.ownedNokaiIds).map((nokai, index) => {\n                return <img className=\"nokai-img\" alt=\"nokai\" key={index}\n                            style={{border: \"1px solid grey\"}}\n                            src={nokai.imageUrl}\n                            draggable={!nokai.nokaiPos?.onBoard}\n                            onClick={(e) => {\n                                this.onNokaiClick(e, nokai.nokaiId)\n                            }}\n                            onDragStart={e => {\n                                this.onNokaiDragStart(e, nokai.nokaiId)\n                            }}\n                            onDragEnd={e => {\n                                this.onNokaiDragEnd(e, nokai.nokaiId)\n                            }}\n                />\n            })\n            }\n        </div>\n    }\n}","import {Component} from \"react\";\nimport {Button} from \"react-bootstrap\";\n\ninterface GameWrongNetworkProperties {\n    networkId: bigint | null,\n    backToLobby: () => any\n}\n\ntype GameWrongNetworkState = {\n}\n\nexport default class GameWrongNetwork extends Component<GameWrongNetworkProperties, GameWrongNetworkState> {\n\n    render() {\n        return <div>\n            <h3>Error: The game is not deployed on your selected network ({this.props.networkId}). Please select a\n                supported network on your Metamask.</h3>\n            <Button variant=\"secondary\" onClick={this.props.backToLobby}>\n                Go Back\n            </Button>\n        </div>\n    }\n}","import {Component} from \"react\";\nimport {Button} from \"react-bootstrap\";\n\ninterface GameUnexpectedErrorProperties {\n    backToLobby: () => any\n}\n\ntype GameUnexpectedErrorState = {\n}\n\nexport default class GameUnexpectedError extends Component<GameUnexpectedErrorProperties, GameUnexpectedErrorState> {\n    render() {\n        return <div>\n            <h3>Error: unexpected error</h3>\n            <Button variant=\"secondary\" onClick={this.props.backToLobby}>\n                Quit Game\n            </Button>\n        </div>\n    }\n}","import {Component} from \"react\";\nimport {Button, Modal} from \"react-bootstrap\";\n\ninterface GameWalletNotConnectedProperties {\n    backToLobby: () => any,\n    loginMetamask: () => any\n}\n\ntype GameWalletNotConnectedState = {\n}\n\nexport default class GameWalletNotConnected extends Component<GameWalletNotConnectedProperties, GameWalletNotConnectedState> {\n    render() {\n        return <div>\n            <Modal show={true} backdrop=\"static\" keyboard={false} aria-labelledby=\"contained-modal-title-vcenter\"\n                   centered animation={false}>\n                <Modal.Header closeButton={false}><Modal.Title>Metamask</Modal.Title></Modal.Header>\n                <Modal.Body>\n                    A connection to your Metamask wallet is required in order to play in BlackHole. We will use this\n                    access to retrieve your NFT and tokens associated to the\n                    linked account.\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={this.props.backToLobby}>\n                        Quit Game\n                    </Button>\n                    <Button variant=\"primary\" onClick={this.props.loginMetamask}>Login Metamask</Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    }\n}","import Lina from \"../blockchain/Lina\";\nimport {GameManagerContract} from \"../blockchain/definition/GameManagerContract\";\nimport {Address, NokaiId} from \"../blockchain/definition/types\";\nimport {PositionTarget} from \"../blockchain/definition/data/PositionTarget\";\nimport {Position} from \"../blockchain/definition/data/Position\";\n\nexport default class GameManager {\n    static async migrateBattleLogic(contract: GameManagerContract, battleLogic: Address) {\n        await Lina.send(contract.methods.migrateBattleLogic(battleLogic))\n    }\n\n    static async move(contract: GameManagerContract, fromX: bigint, fromY: bigint, target: PositionTarget) {\n        await Lina.send(contract.methods.move(fromX, fromY, target))\n    }\n\n    static async conquer(contract: GameManagerContract, fromX: bigint, fromY: bigint, target: PositionTarget) {\n        await Lina.send(contract.methods.conquer(fromX, fromY, target))\n    }\n\n    static async teleport(contract: GameManagerContract, fromX: bigint, fromY: bigint, toX: bigint, toY: bigint) {\n        await Lina.send(contract.methods.teleport(fromX, fromY, toX, toY))\n    }\n\n    static async assignNokaiToBoard(contract: GameManagerContract, nokaiId: NokaiId, x: bigint, y: bigint) {\n        console.log(\"assign to board\")\n        await Lina.send(contract.methods.assignNokaiToBoard(nokaiId, x, y))\n    }\n\n    static async upgradeExtractor(contract: GameManagerContract, x: bigint, y: bigint) {\n        await Lina.send(contract.methods.upgradeExtractor(x, y))\n    }\n\n    static async collectResources(contract: GameManagerContract, positions: Position[]) {\n        if (positions.length === 1) {\n            await Lina.send(contract.methods.collectResources(positions[0].x, positions[0].y))\n        } else if (positions.length > 0) {\n            await Lina.send(contract.methods.collectResourcesBash(positions))\n        }\n    }\n}","import {EventSubscriber} from \"./EventSubscriber\";\nimport {\n    BlackHoleContract,\n    NokaiAssigned,\n    NokaiMoved,\n    NokaiWithdrawn\n} from \"../../../blockchain/definition/BlackHoleContract\";\nimport BlackHole from \"../../../api/BlackHole\";\nimport {NokaiStore} from \"../store/NokaiStore\";\n\nexport default class NokaiEventSubscriber implements EventSubscriber {\n\n    subscribers: any[]\n    blackhole: BlackHoleContract\n    setup: boolean\n\n    constructor(blackhole: BlackHoleContract) {\n        this.subscribers = []\n        this.blackhole = blackhole\n        this.setup = false\n    }\n\n    isSetup(): boolean {\n        return this.setup\n    }\n\n    subscribe(): any {\n        console.log(\"Subscribe contract events\")\n        this.subscribers.push(BlackHole.subscribeNokaiAssigned(this.blackhole,\n            null,\n            (data: NokaiAssigned) => {\n            console.log(\"assign nokai: \", data)\n                NokaiStore.update(data.nokaiId, {nokaiPos: {onBoard: true, x: data.x, y: data.y}})\n            }))\n        this.subscribers.push(BlackHole.subscribeNokaiWithdrawn(this.blackhole,\n            null,\n            (data: NokaiWithdrawn) => {\n                NokaiStore.update(data.nokaiId, {nokaiPos: {onBoard: false, x: 0, y: 0}})\n            }))\n        this.subscribers.push(BlackHole.subscribeNokaiMoved(this.blackhole,\n            null,\n            (data: NokaiMoved) => {\n                NokaiStore.update(data.nokaiId, {nokaiPos: {onBoard: true, x: data.toX, y: data.toY}})\n            }))\n\n        this.setup = true\n    }\n\n    unsubscribe(): any {\n        console.log(\"Unsubscribe contract events\")\n        this.subscribers.forEach(subscriber => {\n            subscriber.unsubscribe()\n        })\n        this.setup = false\n    }\n}","import Web3Utils from \"../../../blockchain/Web3Utils\";\nimport {EventSubscriber} from \"./EventSubscriber\";\n\nexport default class MetamaskEventSubscriber implements EventSubscriber {\n    onNetworkChange: (chainId: bigint) => any\n    onAccountUpdate: (account: string | null) => any\n\n    setup: boolean\n\n\n    constructor(onNetworkChange: (chainId: bigint) => any, onAccountUpdate: (account: string | null) => any) {\n        this.onNetworkChange = onNetworkChange\n        this.onAccountUpdate = onAccountUpdate\n        this.setup = false\n        this.accountChanged = this.accountChanged.bind(this)\n        this.networkChanged = this.networkChanged.bind(this)\n    }\n\n    subscribe(): any {\n        console.log(\"##listen account change\")\n        Web3Utils.getEth().on('accountsChanged', this.accountChanged)\n        console.log(\"##listen network change\")\n        Web3Utils.getEth().on('chainChanged', this.networkChanged)\n        this.setup = true\n    }\n\n    unsubscribe(): any {\n        console.log(\"##remove listener account change\")\n        Web3Utils.getEth().removeListener('accountsChanged', this.accountChanged)\n        console.log(\"##remove listene network change\")\n        Web3Utils.getEth().removeListener('chainChanged', this.networkChanged)\n        this.setup = false\n    }\n\n    isSetup(): boolean {\n        return this.setup\n    }\n\n    private networkChanged(chainId: bigint) {\n        this.onNetworkChange(chainId)\n    }\n\n    private accountChanged(accounts: string[]) {\n        if (accounts.length === 0) {\n            this.onAccountUpdate(null)\n        } else {\n            this.onAccountUpdate(accounts[0])\n        }\n    }\n}","import {Component} from \"react\";\nimport GameNavbar from \"./navbar/GameNavbar\";\nimport GameLoading from \"./loading/GameLoading\";\nimport Web3Utils from \"../../../blockchain/Web3Utils\";\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\nimport GameBoard from \"./board/GameBoard\";\nimport ContractLoader from \"../../../blockchain/ContractLoader\";\nimport {BlackHoleContract} from \"../../../blockchain/definition/BlackHoleContract\";\nimport {NokaiContract} from \"../../../blockchain/definition/NokaiContract\";\nimport {NokaiStatsContract} from \"../../../blockchain/definition/NokaiStatsContract\";\nimport NokaiInventory from \"./inventory/NokaiInventory\";\nimport {NokaiId} from \"../../../blockchain/definition/types\";\nimport {GameManagerContract} from \"../../../blockchain/definition/GameManagerContract\";\nimport GameWrongNetwork from \"./error/GameWrongNetwork\";\nimport GameUnexpectedError from \"./error/GameUnexpectedError\";\nimport GameWalletNotConnected from \"./error/GameWalletNotConnected\";\nimport GameManager from \"../../../api/GameManager\";\nimport {DragNokai} from \"../store/DragNokai\";\nimport NokaiEventSubscriber from \"../events/NokaiEventSubscriber\";\nimport MetamaskEventSubscriber from \"../events/MetamaskEventSubscriber\";\nimport {EventSubscriber} from \"../events/EventSubscriber\";\n\ninterface GameViewProperties extends RouteComponentProps {\n}\n\ntype GameViewState = {\n    blackhole: BlackHoleContract | null,\n    nokai: NokaiContract | null,\n    nokaiStats: NokaiStatsContract | null,\n    gameManager: GameManagerContract | null,\n    networkId: bigint | null,\n    account: string | null,\n    walletConnected: boolean,\n    loading: boolean\n}\n\nclass GameView extends Component<GameViewProperties, GameViewState> {\n\n    nokaiEventSubscriber: EventSubscriber | null = null\n    metamaskEventSubscriber: EventSubscriber\n\n    constructor(props: GameViewProperties) {\n        super(props)\n        this.state = {\n            blackhole: null,\n            nokai: null,\n            nokaiStats: null,\n            gameManager: null,\n            networkId: null,\n            account: null,\n            walletConnected: false,\n            loading: true\n        }\n        this.setupState = this.setupState.bind(this)\n        this.loadBlockchainData = this.loadBlockchainData.bind(this)\n        this.loadContracts = this.loadContracts.bind(this)\n        this.setCurrentAccount = this.setCurrentAccount.bind(this)\n        this.setCurrentNetwork = this.setCurrentNetwork.bind(this)\n        this.loginMetamask = this.loginMetamask.bind(this)\n        this.backToLobby = this.backToLobby.bind(this)\n        this.areContractsValid = this.areContractsValid.bind(this)\n        this.onInventoryNokaiClicked = this.onInventoryNokaiClicked.bind(this)\n        this.onInventoryNokaiDragged = this.onInventoryNokaiDragged.bind(this)\n\n        this.metamaskEventSubscriber = new MetamaskEventSubscriber(this.setCurrentNetwork, this.setCurrentAccount)\n    }\n\n    componentWillUnmount() {\n        this.nokaiEventSubscriber?.unsubscribe()\n        this.metamaskEventSubscriber.unsubscribe()\n    }\n\n    async componentDidMount() {\n        const walletConnected = await Web3Utils.isMetamaskConnected()\n        if (walletConnected) {\n            await Web3Utils.loadMetamask()\n            await this.setupState()\n        } else {\n            this.setState({loading: false})\n        }\n    }\n\n    componentDidUpdate(prevProps: Readonly<GameViewProperties>, prevState: Readonly<GameViewState>, snapshot?: any) {\n        if (this.state.blackhole != null && (this.nokaiEventSubscriber === null || !this.nokaiEventSubscriber.isSetup())) {\n            this.nokaiEventSubscriber = new NokaiEventSubscriber(this.state.blackhole)\n            this.nokaiEventSubscriber.subscribe()\n        }\n    }\n\n    /** SETUP */\n\n    async setupState() {\n        await this.loadBlockchainData()\n        this.metamaskEventSubscriber.subscribe()\n    }\n\n    private async loadBlockchainData() {\n        const account = await Web3Utils.getDefaultAccount()\n        const networkId = await Web3Utils.getNetwork()\n        await this.loadContracts()\n        this.setState({account: account, loading: false, networkId: networkId, walletConnected: true})\n    }\n\n    private async loadContracts() {\n        const blackhole = await ContractLoader.instantiateBlackHole()\n        const nokai = await ContractLoader.instantiateNokai()\n        const nokaiStats = await ContractLoader.instantiateNokaiStats()\n        const gameManager = await ContractLoader.instantiateGameManager()\n        this.setState({\n            blackhole: blackhole,\n            nokai: nokai,\n            nokaiStats: nokaiStats,\n            gameManager: gameManager\n        })\n    }\n\n    /** METAMASK */\n    async loginMetamask() {\n        let metamaskLoaded = await Web3Utils.loadMetamask()\n        if (metamaskLoaded) {\n            console.log(\"trying load data\")\n            await this.setupState()\n        }\n    }\n\n    setCurrentAccount(account: string | null) {\n        if (account != null) {\n            this.setState({account: account})\n        } else {\n            this.setState({account: null, walletConnected: false})\n        }\n    }\n\n    setCurrentNetwork(networkId: bigint) {\n        this.setState({networkId: networkId})\n    }\n\n    /** UI */\n    backToLobby = () => {\n        this.props.history.push('/')\n    }\n\n    areContractsValid() {\n        return this.state.blackhole != null &&\n            this.state.nokai != null &&\n            this.state.nokaiStats != null\n    }\n\n    onInventoryNokaiClicked(nokaiId: NokaiId) {\n\n    }\n\n    async onInventoryNokaiDragged(nokaiId: NokaiId) {\n        const drag = DragNokai.get()\n        console.log(\"drag to \", drag?.position)\n        if (drag != null && nokaiId === drag.nokaiId) {\n            console.log(\"complete drag\")\n            await GameManager.assignNokaiToBoard(this.state.gameManager!!, nokaiId, drag.position.x, drag.position.y)\n        }\n    }\n\n    render() {\n        let content\n        if (this.state.loading) {\n            content = <GameLoading/>\n        } else if (!this.state.walletConnected) {\n            content = <GameWalletNotConnected backToLobby={this.backToLobby} loginMetamask={this.loginMetamask}/>\n        } else if (this.state.networkId != null && this.state.account != null && this.areContractsValid()) {\n            content = <div>\n                <GameNavbar networkId={this.state.networkId} account={this.state.account}/>\n                <div className=\"container-fluid mt-5\">\n                    <div className=\"row\">\n                        <div className=\"col-md-9\">\n                            <GameBoard blackhole={this.state.blackhole!!}/>\n                        </div>\n                        <div className=\"col-md-3\">\n                            <h1>Menu</h1>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <NokaiInventory nokai={this.state.nokai!!}\n                                            nokaiStats={this.state.nokaiStats!!}\n                                            blackhole={this.state.blackhole!!}\n                                            account={this.state.account}\n                                            onClicked={this.onInventoryNokaiClicked}\n                                            onDragged={this.onInventoryNokaiDragged}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        } else if (!this.areContractsValid()) {\n            content = <GameWrongNetwork backToLobby={this.backToLobby} networkId={this.state.networkId}/>\n        } else {\n            content = <GameUnexpectedError backToLobby={this.backToLobby}/>\n        }\n\n        return <div className=\"container-fluid mt-5\">\n            {content}\n        </div>\n    }\n}\n\nexport default withRouter(GameView);","import {Component} from \"react\";\n\ntype HomeLoadingProperties = {}\n\ntype HomeLoadingState = {}\n\nexport default class HomeLoading extends Component<HomeLoadingProperties, HomeLoadingState> {\n\n    render() {\n        return <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n    }\n}","import {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {Component} from \"react\";\nimport Web3Utils from \"../../../../blockchain/Web3Utils\";\n\ntype NavbarProperties = {}\n\ntype NavbarState = {\n    walletConnected: boolean,\n    account: string | null,\n    loading: boolean\n}\n\nexport default class HomeNavbar extends Component<NavbarProperties, NavbarState> {\n    constructor(props: NavbarProperties) {\n        super(props)\n        this.state = {\n            walletConnected: false,\n            account: null,\n            loading: true\n        }\n        this.loginMetamask = this.loginMetamask.bind(this)\n    }\n\n    async componentDidMount() {\n        const walletConnected = await Web3Utils.isMetamaskConnected()\n        if (walletConnected) {\n            await Web3Utils.loadMetamask()\n            await this.loadData()\n        } else {\n            this.setState({loading: false})\n        }\n    }\n\n    async loadData() {\n        await this.loadAccountsData()\n        await this.listenAccountChanges()\n    }\n\n    async loadAccountsData() {\n        const account = await Web3Utils.getDefaultAccount()\n        this.setState({account: account, loading: false, walletConnected: true})\n    }\n\n    async listenAccountChanges() {\n        console.log(\"##listen account change\")\n        Web3Utils.getEth().on('accountsChanged', (accounts: string[]) => {\n            console.log(\"account changed\", accounts[0])\n            this.setState({account: accounts[0]})\n        })\n    }\n\n    async loginMetamask() {\n        let metamaskLoaded = await Web3Utils.loadMetamask()\n        if (metamaskLoaded) {\n            await this.loadData()\n        }\n    }\n\n    render() {\n        return <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n            <a\n                className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n                href=\"https://github.com/Draym/blackhole\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n            >\n                <span><FontAwesomeIcon icon={['fab', \"github\"]}/> Game Contracts</span>\n            </a>\n\n            {this.state.walletConnected && this.state.account != null && <span style={{color: 'white'}}>{this.state.account}</span>}\n\n            {!this.state.loading && !this.state.walletConnected && <button onClick={this.loginMetamask}>Connect Metamask</button>}\n        </nav>\n    }\n}","import {Component} from \"react\";\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\n\ninterface TutorialViewProperties extends RouteComponentProps {\n}\n\ntype TutorialViewState = {\n    loading: boolean\n}\n\nclass TutorialView extends Component<TutorialViewProperties, TutorialViewState> {\n    constructor(props: TutorialViewProperties) {\n        super(props)\n        this.state = {\n            loading: true\n        }\n        this.backToLobby = this.backToLobby.bind(this);\n    }\n\n    backToLobby = () => {\n        this.props.history.push('/')\n    }\n\n    render() {\n        return <div>\n        </div>\n    }\n}\nexport default withRouter(TutorialView);","import {Component} from \"react\";\nimport HomeLoading from \"./loading/HomeLoading\";\nimport {Route, RouteComponentProps, Switch, withRouter} from \"react-router-dom\";\nimport HomeNavbar from \"./navbar/HomeNavbar\";\nimport TutorialView from \"./tutorial/TutorialView\";\nimport {Button} from \"react-bootstrap\";\n\ninterface HomeViewProperties extends RouteComponentProps {\n}\n\ntype HomeViewState = {\n    loading: boolean\n}\n\nclass HomeView extends Component<HomeViewProperties, HomeViewState> {\n    constructor(props: HomeViewProperties) {\n        super(props)\n        this.state = {\n            loading: true\n        }\n        this.launchGame = this.launchGame.bind(this)\n    }\n\n    componentDidMount() {\n        this.setState({loading: false})\n    }\n\n    launchGame = () => {\n        this.props.history.push('/play')\n    }\n\n    render() {\n        let current = <div>\n            <h2>Hello world!</h2>\n            <Button variant=\"primary\" onClick={this.launchGame}>\n                Launch Game\n            </Button>\n        </div>\n\n        if (this.state.loading) {\n            return <HomeLoading/>\n        } else {\n            return <div>\n                <HomeNavbar/>\n                <div className=\"container-fluid mt-5\">\n                    <Switch>\n                        <Route path={\"/tutorial\"}>\n                            <TutorialView/>\n                        </Route>\n                        <Route path={\"/\"}>\n                            {current}\n                        </Route>\n                    </Switch>\n                </div>\n            </div>\n        }\n    }\n}\n\nexport default withRouter(HomeView);","import {Component} from \"react\";\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\n\ninterface MarketViewProperties extends RouteComponentProps {\n}\n\ntype MarketViewState = {\n    loading: boolean\n}\n\nclass MarketView extends Component<MarketViewProperties, MarketViewState> {\n    constructor(props: MarketViewProperties) {\n        super(props)\n        this.state = {\n            loading: true\n        }\n        this.backToLobby = this.backToLobby.bind(this);\n    }\n\n    backToLobby = () => {\n        this.props.history.push('/')\n    }\n\n    render() {\n        return <div>\n        </div>\n    }\n}\nexport default withRouter(MarketView);","import './App.scss';\nimport {Component} from \"react\";\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport GameView from \"./web/game/views/GameView\";\nimport HomeView from \"./web/home/views/HomeView\";\nimport MarketView from \"./web/market/views/MarketView\";\n\nimport {library} from '@fortawesome/fontawesome-svg-core'\nimport {faGithub, faLinkedinIn} from '@fortawesome/free-brands-svg-icons';\n\nlibrary.add(faGithub, faLinkedinIn);\n\nconst routerBaseName = process.env.PUBLIC_URL;\n\ninterface AppProperties {\n}\n\ninterface AppState {\n}\n\nexport default class App extends Component<AppProperties, AppState> {\n\n    render() {\n        return <div className=\"App\">\n            <main role=\"main\">\n                <BrowserRouter basename={routerBaseName}>\n                    <Switch>\n                        <Route path={\"/play\"}>\n                            <GameView/>\n                        </Route>\n                        <Route path={\"/market\"}>\n                            <MarketView/>\n                        </Route>\n                        <Route path={\"/\"}>\n                            <HomeView/>\n                        </Route>\n                    </Switch>\n                </BrowserRouter>\n            </main>\n        </div>\n    }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}